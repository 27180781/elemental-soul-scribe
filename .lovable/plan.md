

# תיקון מספר משתתף הפוך + הקטנת רווחי פסקאות

## בעיה 1: "301" במקום "103" בכותרת

**שורש הבעיה**: הפונקציה `reverseHebrew` הופכת את סדר הסגמנטים (RTL), אבל משאירה מספרים כפי שהם. כשהקורא קורא את השורה מימין לשמאל, "103" נקרא כ-"301".

הפתרון הקודם (להפוך ספרות תמיד) שבר את המספר "103" שמופיע בגרף העוגה - אבל זה לא רלוונטי כי המספר בגרף מצויר כתמונה, לא דרך `reverseHebrew`.

**הפתרון**: להחזיר את היפוך הספרות בתוך `reverseHebrew`. המספר "103" בגרף לא עובר דרך הפונקציה הזו (הוא מצויר ישירות על Canvas), אז זה לא ישבור אותו.

## בעיה 2: רווחים גדולים מדי בין פסקאות

**המצב**: הרווח בין פסקאות הוא `lineHeightMm * 0.4` - עדיין גדול מדי.

**הפתרון**: להקטין ל-`lineHeightMm * 0.2` (חמישית מגובה שורה רגילה).

## שינויים טכניים

### קובץ: `src/utils/pdfGenerator.ts`

**שינוי 1 - שורות 157-163 - החזרת היפוך מספרים:**

```ts
return reversed.map(seg => {
  if (/[\u0590-\u05FF]/.test(seg) || /^[0-9]+$/.test(seg)) {
    return seg.split('').reverse().join('');
  }
  return seg;
}).join('');
```

**שינוי 2 - שורה 463 ושורה 493 - הקטנת רווח פסקאות:**

שינוי מ-`0.4` ל-`0.2`:
```ts
const paragraphGapSize = lineHeightMm * 0.2;
// ...
const paragraphGap = lineHeightMm * 0.2;
```

| קובץ | שינוי |
|-------|--------|
| `src/utils/pdfGenerator.ts` | 1. הוספת היפוך מספרים ב-reverseHebrew 2. הקטנת רווח פסקאות מ-0.4 ל-0.2 |

